%===============================================================================
% Authors: 2008 Michal Bidlo, 2019 Jaroslav Dytrych, 2021 Dominik Harmim
% Contact for questions and comments: sablona@fit.vutbr.cz
% Author contact: xharmi00@stud.fit.vutbr.cz
%===============================================================================
% encoding: UTF-8
%-------------------------------------------------------------------------------
% processing: make, make all, make pdf, make xharmi00.pdf, make clean,
%             make pack, make xharmi00.tar.gz, make vlna, make normostrany
%===============================================================================
% Included files:
%   xharmi00.bib - bibliography
%   xharmi00-chapters.tex - the thesis content
%   xharmi00-appendices.tex - appendices
%===============================================================================


\documentclass[british, zadani, odsaz, todo]{fitthesis}


% Basic packages are at the bottom of template file fitthesis.cls.
\usepackage{subcaption}
\usepackage{wrapfig}
\usepackage{amsthm}
\usepackage[ruled, algochapter, linesnumbered]{algorithm2e}
\usepackage{tocloft}
\usepackage[normalem]{ulem}
\usepackage{mathtools}
\usepackage{scrextend}

% Setting of a path to the pictures.
\graphicspath{{img/}}

\renewcommand{\rmdefault}{lmr} % set Latin Modern Roman as rm
\renewcommand{\sfdefault}{qhv} % set TeX Gyre Heros as sf
\renewcommand{\ttdefault}{lmtt} % set Latin Modern tt as tt

% Definition theorem.
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]

% Example theorem.
\theoremstyle{definition}
\newtheorem{example}{Example}[section]

% Algorithm2e settings.
\setlength{\algomargin}{2em}
\SetKwProg{Def}{def}{:}{end}
% This solves the problems with links which leads after the algorithm.
\makeatletter
\let\old@algocf@pre@ruled\@algocf@pre@ruled
\renewcommand{\@algocf@pre@ruled}{%
    \Hy@raisedlink{\hyper@anchorstart{algocf.\thealgocf}\hyper@anchorend}%
    \old@algocf@pre@ruled}
\makeatother

% Line spacing in the table of contents.
\renewcommand\cftchapafterpnum{\vskip .2em}
\renewcommand\cftsecafterpnum{\vskip .2em}
\setlength{\cftbeforechapskip}{.5em}

% "hyperref" package create clickable links in pdf if you are using pdflatex.
% Problem is that this package have to be introduced as the last one so it
% cannot be placed in the template file.
\ifWis
    \ifx\pdfoutput\undefined\else
        \usepackage[
            unicode, colorlinks, hyperindex, plainpages=false, pdftex
        ]{hyperref}
        \definecolor{hrcolor-ref}{RGB}{223, 52, 30}
        \definecolor{hrcolor-cite}{HTML}{2F8F00}
        \definecolor{hrcolor-urls}{HTML}{092EAB}
        \hypersetup{
            linkcolor=hrcolor-ref, citecolor=hrcolor-cite, filecolor=magenta,
            urlcolor=hrcolor-urls
        }
    \fi
\else % for the print clickable links will be black
    \ifx\pdfoutput\undefined\else
        \usepackage[
            unicode, colorlinks, hyperindex, plainpages=false, pdftex,
            urlcolor=black, linkcolor=black, citecolor=black
        ]{hyperref}
        \definecolor{links}{rgb}{0, 0, 0}
        \definecolor{anchors}{rgb}{0, 0, 0}
        \def\AnchorColor{anchors}
        \def\LinkColor{links}
    \fi
\fi

% This solves the problems with links which leads after the picture.
\usepackage[all]{hypcap}

% Solves first/last row of the paragraph on the previous/next page.
\clubpenalty=10000
\widowpenalty=10000

\interfootnotelinepenalty=10000 % do not separate footnotes to multiple pages


% Information about the thesis
%-------------------------------------------------------------------------------
\projectinfo{%
    % Thesis
    project={DP}, % thesis type
    year={2021}, % year of a submission
    date=\today, % submission date
    faculty={FIT}, % name of the faculty
    department={UITS}, % appropriate abbreviation of the department
%
    % Thesis title
    % thesis title in english
    title.en={Advanced Static Analysis of Atomicity in Concurrent Programs through Facebook Infer},
    % thesis title in czech language
    title.cs={Pokročilá statická analýza atomičnosti v~paralelních programech v~prostředí Facebook Infer},
    % setting the length of a block with a thesis title
    title.length={14cm},
    % setting the length of a block with a second thesis title
    sectitle.length={14cm},
%
    % Author
    author.name={Dominik}, % author name
    author.surname={Harmim}, % author surname
    author.title.p={Bc.}, % title before the name
%
    % Supervisor
    supervisor.name={Tomáš}, % supervisor name
    supervisor.surname={Vojnar}, % supervisor surname
    supervisor.title.p={prof. Ing.}, % title before the name
    supervisor.title.a={Ph.D.}, % title after the name (optional)
%
    % Keywords
    % keywords in english
    keywords.en={Facebook Infer, static analysis, abstract interpretation, contracts for concurrency, atomicity violation, concurrent programs, programs analysis, atomicity, incremental analysis, modular analysis, compositional analysis, interprocedural analysis, scalability, Atomer, function calls sequence, multi-threaded programs},
    % keywords in czech language
    keywords.cs={Facebook Infer, statická analýza, abstraktní interpretace, kontrakty pro paralelismus, po\-ru\-še\-ní atomicity, paralelní programy, analýza programů, atomicita, inkrementální analýza, modulární analýza, kompoziční analýza, interprocedurální analýza, škálovatelnost, Atomer, sekvence volání funkcí, vícevláknové programy},
%
    % Abstract
    % abstract in english
    abstract.en={\emph{Atomer} is a~\emph{static analyser} based on the idea that if some \emph{sequences of functions} of a~\emph{multi-threaded program} are executed \emph{under locks} in some runs, likely, they are \emph{always intended to execute atomically}. Atomer thus strives to look for such sequences and then detects for which of them the atomicity may be broken in some other program runs. The author of this master's thesis proposed and implemented the first version of Atomer as a~plugin of the \emph{Facebook Infer framework} in his bachelor's thesis. In the master's thesis, a~new and \emph{significantly improved} version of Atomer is proposed. The improvements aim at both increasing \emph{scalability} as well as \emph{precision}. Moreover, support for several initially not supported programming features has been added (including, e.g., the possibility of analysing \emph{C++ and Java programs} or support for \emph{re-entrant locks} or \emph{lock guards}). Through a~number of experiments (including experiments with \emph{real-life code} and \emph{real-life bugs}), it is shown that the new version of Atomer is indeed much \emph{more general, scalable, and precise}.},
    % abstract in czech language
    abstract.cs={Nástroj \emph{Atomer} je \emph{statický analyzátor} založený na myšlence, že pokud jsou některé \emph{sekvence funkcí vícevláknového programu} prováděny v~některých bězích \emph{pod zámky}, je pravděpodobně zamýšleno, že mají být \emph{vždy provedeny atomicky}. Analyzátor Atomer se tudíž snaží takové sekvence hledat a~poté zjišťovat, pro které z~nich může být v~některých jiných bězích programu porušena atomicita. Autor této diplomové práce ve své bakalářské práci navrhl a~implementoval první verzi nástroje Atomer jako zásuvný modul \emph{aplikačního rámce Facebook Infer}. V~této diplomové práci je navržena nová a~\emph{výrazně vylepšená} verze analyzátoru Atomer. Cílem vylepšení je zvýšení jak \emph{škálovatelnosti}, tak \emph{přesnosti}. Kromě toho byla přidána podpora pro několik původně nepodporovaných programovacích vlastností (včetně např. možnosti analyzovat \emph{programy napsané v~jazycích C++ a~Java} nebo podpory pro \emph{reentrantní zámky} nebo \emph{stráže zámků}, tzv. \csuv{lock guards}). Prostřednictvím řady experimentů (včetně experimentů s~\emph{reálnými programy} a~\emph{reálnými chybami}) se ukázalo, že nová verze nástroje Atomer je skutečně \emph{mnohem obecnější, přesnější a~lépe škáluje}},
%
    % Extended abstract
    extendedabstract={\todo{Tady nějak zkombinovat a~zkrátit úvod + závěr a~přeložit do češtiny.}},
%
    % Declaration
    declaration={Hereby I~declare that this master's thesis was prepared as an original author's work under the supervision of professor Tomáš Vojnar. All the relevant information sources used during this thesis's preparation are appropriately cited and included in the reference list.},
%
    % Acknowledgement
    acknowledgement={I~thank my colleagues from VeriFIT for their assistance. I~would particularly like to thank my supervisor Tomáš Vojnar. I~also wish to acknowledge Nikos Gorogiannis from the Infer team at Facebook for valuable discussions about the analyser's development. Lastly, I~acknowledge the financial support received from the H2020 ECSEL projects AQUAS, Arrowhead Tools, and VALU3S.}
}


% Additional hyperref settings.
\ifx\pdfoutput\undefined\else
    \def\pdfBorderAttrs{/Border [0 0 0]} % without margins around links
    \pdfcompresslevel=9
    \hypersetup{
        pdfauthor=\pdfauthor,
        pdftitle=\pdftitle,
        pdfsubject=\pdfsubject,
        pdfkeywords=\pdfkeywords
    }
\fi


%===============================================================================
\begin{document}
    % Typesetting of the title pages
    % --------------------------------------------------------------------------
    \maketitle


    % Table of contents
    % --------------------------------------------------------------------------
    \setlength{\parskip}{0pt}
    \pagenumbering{roman}

    {\hypersetup{hidelinks}\tableofcontents}

    \ifODSAZ
        \setlength{\parskip}{.5\bigskipamount}
    \else
        \setlength{\parskip}{0pt}
    \fi


    \iftwoside\cleardoublepage\else\clearpage\fi


    % Thesis text
    % --------------------------------------------------------------------------
    \pagenumbering{arabic}
    \setcounter{page}{1}

    \input{xharmi00-chapters}


    % Bibliography
    % --------------------------------------------------------------------------
    \makeatletter
    \def\@openbib@code{\addcontentsline{toc}{chapter}{Bibliography}}
    \makeatother
    \bibliographystyle{enplain}

    % \begin{flushleft}
        \bibliography{xharmi00}
    % \end{flushleft}


    \iftwoside\cleardoublepage\else\clearpage\fi


    % Appendices
    % --------------------------------------------------------------------------
    \appendix
    \input{xharmi00-appendices}
\end{document}
